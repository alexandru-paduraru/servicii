<legend>Create invoice </legend> 

<%= form_for @invoice, url: customer_create_invoice_path(@customer), html: {class: "form-horizontal"} do |f| %>

<div class ="row">
	<div class = "span6">
		<p><strong>Customer name:</strong> <%= @customer.first_name %>&nbsp<%= @customer.last_name %> </p>
		<p><strong>Adress:</strong> <%= @customer.billing_address %></p>
	</div>

<div class="span6">
<fieldset>
 
<% if @invoice.errors.any? %>
	<div class="alert alert-error">
	<h4>Errors:</h4>
	<ul>
		<% @invoice.errors.full_messages.each do |message| %>
		<li><%= message %></li>
		<% end %>
	</ul>
	</div>
<% end %>

<div class="input-prepend control-group">
	<%= f.label :amount, :class => "control-label" %>
	<div class="controls">
	    
		<%= f.text_field :amount, :placeholder => "Amount" %>
	</div>
</div>

<div class="control-group">
	<%= f.label :due_date, :class => "control-label" %>
	<div class="controls">
		<%= f.text_field :due_date, :class => "datepicker", :placeholder => "Due date" %>
	</div>
</div>

<%= f.hidden_field :customer_id, :value => @customer.id %>
	<%= f.hidden_field :customer_email, :value => @customer.email %>
	<%= f.hidden_field :customer_name, :value => @customer.first_name + ' ' + @customer.last_name  %>
  

<!-- Text input-->
</fieldset>

</div>
</div>
<div class="row">
<div class="span12">
<table class="table table-bordered" id="services_table">
  <tr>
  <th>Service</th>
  <th>Value</th>
  <th>Qty</th>
  <th>Total</th>
  </tr>
  <tr>
  <%= f.fields_for :service_1 do |f| %>

			<td><%= f.text_field :service_name, :placeholder => "Service name" %>
			</td>
			<td>
			<%= f.number_field :service_value, :placeholder => "Value" %>
			</td>
			<td>
			<%= f.number_field :service_qty, :placeholder => "Qty" %>
			</td>
			<td>
			</td>
  <% end %>
  </tr>
  
  <tr>
  <%= f.fields_for :service_2 do |f| %>
  			<td>
			<%= f.text_field :service_name, :placeholder => "Service name" %>
  			</td>
  			<td>
			<%= f.number_field :service_value, :placeholder => "Value" %>
  			</td>
  			<td>
			<%= f.number_field :service_qty, :placeholder => "Qty" %>
  			</td>
  			<td>
  			</td>
  <% end %>
  </tr>
  <tr>
	  <td colspan="3"><button class="btn btn-success" type="button" id="add_service_button"><i class="icon-plus icon-white"></i> Add service</button></td>
	  <td class="span3">
	  	<strong>Total amount:</strong>
	  </td>
  </tr>
</table>



</div>
<button class="modalButton btn btn-info span2" id="1"> Preview </button>
  <div class="btn-group pull-right">
  <%= f.submit "Save as draft", :name => "draft", :class => "btn span2" %>
  <%= f.submit "Send" , :name => "send", :class => "btn btn-primary span2"%>
  </div>
  <% end %>
  </form>
</div>  